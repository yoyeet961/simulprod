function ngGridFlexibleHeightPlugin(n){var t=this;t.grid=null;t.scope=null;t.init=function(i,r,u){t.domUtilityService=u.DomUtilityService;t.grid=r;t.scope=i;var e=function(){setTimeout(f,1)},f=function(){var f=t.grid.gridId,e="."+f+" .ngFooterPanel",r=t.grid.$topPanel.height()+$(e).height(),u=t.grid.$canvas.height()+1,i;n!=null&&n.minHeight!=null&&u+r<n.minHeight&&(u=n.minHeight-r-2);i=u+3;t.scope.baseViewportHeight&&t.scope.baseViewportHeight===i||(t.grid.$viewport.css("height",i+"px"),t.grid.$root.css("height",i+r+"px"),t.scope.baseViewportHeight=i,t.domUtilityService.RebuildGrid(t.scope,t.grid))};t.scope.catHashKeys=function(){var n="";for(var i in t.scope.renderedRows)n+=t.scope.renderedRows[i].$$hashKey;return n};t.scope.$watch("catHashKeys()",f);t.scope.$watch(t.grid.config.data,e)}}(function(n,t){"use strict";var f=6,k=4,o="asc",d="desc",s="_ng_field_",h="_ng_depth_",e="_ng_hidden_",c="_ng_column_",y=/CUSTOM_FILTERS/g,g=/COL_FIELD/g,tt=/DISPLAY_CELL_TEMPLATE/g,it=/EDITABLE_CELL_TEMPLATE/g,rt=/CELL_EDITABLE_CONDITION/g,l=/<.+>/,i,p,nt,u;n.ngGrid={};n.ngGrid.i18n={};angular.module("ngGrid.services",[]);i=angular.module("ngGrid.directives",[]);p=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);nt=function(n,t,i,r){var s,v,h,c;if(void 0===n.selectionProvider.selectedItems)return!0;var e,u=i.which||i.keyCode,y=!1,p=!1,l=void 0===n.selectionProvider.lastClickedRow?1:n.selectionProvider.lastClickedRow.rowIndex,o=n.columns.filter(function(n){return n.visible}),a=n.columns.filter(function(n){return n.pinned});if(n.col&&(e=o.indexOf(n.col)),37!==u&&38!==u&&39!==u&&40!==u&&(r.config.noTabInterference||9!==u)&&13!==u)return!0;if(n.enableCellSelection){9===u&&i.preventDefault();var w=n.showSelectionCheckbox?1===n.col.index:0===n.col.index,k=1===n.$index||0===n.$index,d=n.$index===n.renderedColumns.length-1||n.$index===n.renderedColumns.length-2,b=o.indexOf(n.col)===o.length-1,g=a.indexOf(n.col)===a.length-1;37===u||9===u&&i.shiftKey?(s=0,w||(e-=1),k?w&&9===u&&i.shiftKey?(s=r.$canvas.width(),e=o.length-1,p=!0):s=r.$viewport.scrollLeft()-n.col.width:a.length>0&&(s=r.$viewport.scrollLeft()-o[e].width),r.$viewport.scrollLeft(s)):39!==u&&(9!==u||i.shiftKey)||(d?b&&9===u&&!i.shiftKey?(r.$viewport.scrollLeft(0),e=n.showSelectionCheckbox?1:0,y=!0):r.$viewport.scrollLeft(r.$viewport.scrollLeft()+n.col.width):g&&r.$viewport.scrollLeft(0),b||(e+=1))}return v=n.configGroups.length>0?r.rowFactory.parsedData.filter(function(n){return!n.isAggRow}):r.filteredRows,h=0,(0!==l&&(38===u||13===u&&i.shiftKey||9===u&&i.shiftKey&&p)?h=-1:l!==v.length-1&&(40===u||13===u&&!i.shiftKey||9===u&&y)&&(h=1),h)&&(c=v[l+h],c.beforeSelectionChange(c,i)&&(c.continueSelection(i),n.$emit("ngGridEventDigestGridParent"),n.selectionProvider.lastClickedRow.renderedRowIndex>=n.renderedRows.length-f-2?r.$viewport.scrollTop(r.$viewport.scrollTop()+n.rowHeight):f+2>=n.selectionProvider.lastClickedRow.renderedRowIndex&&r.$viewport.scrollTop(r.$viewport.scrollTop()-n.rowHeight))),n.enableCellSelection&&setTimeout(function(){n.domAccessProvider.focusCellElement(n,n.renderedColumns.indexOf(o[e]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});Array.prototype.indexOf||(Array.prototype.indexOf=function(n){var i=this.length>>>0,t=Number(arguments[1])||0;for(t=0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=i);i>t;t++)if(t in this&&this[t]===n)return t;return-1});Array.prototype.filter||(Array.prototype.filter=function(n){var i=Object(this),f=i.length>>>0,r;if("function"!=typeof n)throw new TypeError;for(var u=[],e=arguments[1],t=0;f>t;t++)t in i&&(r=i[t],n.call(e,r,t,i)&&u.push(r));return u});p.filter("checkmark",function(){return function(n){return n?"✔":"✘"}});p.filter("ngColumns",function(){return function(n){return n.filter(function(n){return!n.isAggCol})}});angular.module("ngGrid.services").factory("$domUtilityService",["$utilityService","$window",function(n,i){var r={},u={},f=function(){var n=t("<div><\/div>");n.appendTo("body");n.height(100).width(100).css("position","absolute").css("overflow","scroll");n.append('<div style="height: 400px; width: 400px;"><\/div>');r.ScrollH=n.height()-n[0].clientHeight;r.ScrollW=n.width()-n[0].clientWidth;n.empty();n.attr("style","");n.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M<\/strong><\/span>');r.LetterW=n.children().first().width();n.remove()};return r.eventStorage={},r.AssignGridContainers=function(n,i,u){u.$root=t(i);u.$topPanel=u.$root.find(".ngTopPanel");u.$groupPanel=u.$root.find(".ngGroupPanel");u.$headerContainer=u.$topPanel.find(".ngHeaderContainer");n.$headerContainer=u.$headerContainer;u.$headerScroller=u.$topPanel.find(".ngHeaderScroller");u.$headers=u.$headerScroller.children();u.$viewport=u.$root.find(".ngViewport");u.$canvas=u.$viewport.find(".ngCanvas");u.$footerPanel=u.$root.find(".ngFooterPanel");var f=n.$watch(function(){return u.$viewport.scrollLeft()},function(n){return u.$headerContainer.scrollLeft(n)});n.$on("$destroy",function(){t(u.$root.parent()).off("resize.nggrid");u.$root=null;u.$topPanel=null;u.$headerContainer=null;u.$headers=null;u.$canvas=null;u.$footerPanel=null;f()});r.UpdateGridLayout(n,u)},r.getRealWidth=function(n){var i=0,r=n.parents().andSelf().not(":visible");return t.swap(r[0],{visibility:"hidden",display:"block"},function(){i=n.outerWidth()}),i},r.UpdateGridLayout=function(n,t){if(t.$root){var i=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width();t.$root.is(":hidden")&&(t.elementDims.rootMaxW=r.getRealWidth(t.$root));t.elementDims.rootMaxH=t.$root.height();t.refreshDomSizes();n.adjustScrollTop(i,!0)}},r.numberOfGrids=0,r.setStyleText=function(n,t){var r=n.styleSheet,f=n.gridId,u=i.document;r||(r=u.getElementById(f));r||(r=u.createElement("style"),r.type="text/css",r.id=f,(u.head||u.getElementsByTagName("head")[0]).appendChild(r));r.styleSheet&&!r.sheet?r.styleSheet.cssText=t:r.innerHTML=t;n.styleSheet=r;n.styleText=t},r.BuildStyles=function(n,t,i){for(var l=t.config.rowHeight,u=t.gridId,h=n.columns,c=0,o=n.totalRowWidth(),e,s="."+u+" .ngCanvas { width: "+o+"px; }."+u+" .ngRow { width: "+o+"px; }."+u+" .ngCanvas { width: "+o+"px; }."+u+" .ngHeaderScroller { width: "+(o+r.ScrollH)+"px}",f=0;h.length>f;f++)e=h[f],e.visible!==!1&&(s+="."+u+" .col"+f+" { width: "+e.width+"px; left: "+c+"px; height: "+l+"px }."+u+" .colt"+f+" { width: "+e.width+"px; }",c+=e.width);r.setStyleText(t,s);n.adjustScrollLeft(t.$viewport.scrollLeft());i&&r.digest(n)},r.setColLeft=function(n,t,i){var f,e;i.styleText&&(f=u[n.index],f||(f=u[n.index]=RegExp(".col"+n.index+" { width: [0-9]+px; left: [0-9]+px")),e=i.styleText.replace(f,".col"+n.index+" { width: "+n.width+"px; left: "+t+"px"),r.setStyleText(i,e))},r.setColLeft.immediate=1,r.RebuildGrid=function(n,t){r.UpdateGridLayout(n,t);(null==t.config.maintainColumnRatios||t.config.maintainColumnRatios)&&t.configureColumnWidths();n.adjustScrollLeft(t.$viewport.scrollLeft());r.BuildStyles(n,t,!0)},r.digest=function(n){n.$root.$$phase||n.$digest()},r.ScrollH=17,r.ScrollW=17,r.LetterW=10,f(),r}]);angular.module("ngGrid.services").factory("$sortService",["$parse",function(n){var t={};return t.colSortFnCache={},t.isCustomSort=!1,t.guessSortFn=function(n){var i=typeof n;switch(i){case"number":return t.sortNumber;case"boolean":return t.sortBool;case"string":return n.match(/^[-+]?[£$¤]?[\d,.]+%?$/)?t.sortNumberStr:t.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(n)?t.sortDate:t.basicSort}},t.basicSort=function(n,t){return n===t?0:t>n?-1:1},t.sortNumber=function(n,t){return n-t},t.sortNumberStr=function(n,t){var i,r,u=!1,f=!1;return i=parseFloat(n.replace(/[^0-9.-]/g,"")),isNaN(i)&&(u=!0),r=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(r)&&(f=!0),u&&f?0:u?1:f?-1:i-r},t.sortAlpha=function(n,t){var i=n.toLowerCase(),r=t.toLowerCase();return i===r?0:r>i?-1:1},t.sortDate=function(n,t){var i=n.getTime(),r=t.getTime();return i===r?0:r>i?-1:1},t.sortBool=function(n,t){return n&&t?0:n||t?n?1:-1:0},t.sortData=function(i,r){if(r&&i){var f,u,s=i.fields.length,e=i.fields,h=r.slice(0);r.sort(function(r,c){for(var p,w,v,y,l=0,a=0;0===l&&s>a;)f=i.columns[a],u=i.directions[a],w=t.getSortFn(f,h),v=n(e[a])(r),y=n(e[a])(c),t.isCustomSort?(p=w(v,y),l=u===o?p:0-p):!v&&0!==v||!y&&0!==y?y||v?v?y||(l=-1):l=1:l=0:(p=w(v,y),l=u===o?p:0-p),a++;return l})}},t.Sort=function(n,i){t.isSorting||(t.isSorting=!0,t.sortData(n,i),t.isSorting=!1)},t.getSortFn=function(i,r){var u,f;if(t.colSortFnCache[i.field])u=t.colSortFnCache[i.field];else if(void 0!==i.sortingAlgorithm)u=i.sortingAlgorithm,t.colSortFnCache[i.field]=i.sortingAlgorithm,t.isCustomSort=!0;else{if(f=r[0],!f)return u;u=t.guessSortFn(n(i.field)(f));u?t.colSortFnCache[i.field]=u:u=t.sortAlpha}return u},t}]);angular.module("ngGrid.services").factory("$utilityService",["$parse",function(i){var r=/function (.{1,})\(/;return{visualLength:function(n){var i=document.getElementById("testDataLength"),r,u;return i||(i=document.createElement("SPAN"),i.id="testDataLength",i.style.visibility="hidden",document.body.appendChild(i)),r=t(n),t(i).css({font:r.css("font"),"font-size":r.css("font-size"),"font-family":r.css("font-family")}),i.innerHTML=r.text(),u=i.offsetWidth,document.body.removeChild(i),u},forIn:function(n,t){for(var i in n)n.hasOwnProperty(i)&&t(n[i],i)},evalProperty:function(n,t){return i("entity."+t)({entity:n})},endsWith:function(n,t){return n&&t&&"string"==typeof n?-1!==n.indexOf(t,n.length-t.length):!1},isNullOrUndefined:function(n){return void 0===n||null===n?!0:!1},getElementsByClassName:function(n){var u;if(document.getElementsByClassName)return document.getElementsByClassName(n);for(var r=[],f=RegExp("\\b"+n+"\\b"),i=document.getElementsByTagName("*"),t=0;i.length>t;t++)u=i[t].className,f.test(u)&&r.push(i[t]);return r},newId:function(){var n=(new Date).getTime();return function(){return n+=1}}(),seti18n:function(t,i){var r=n.ngGrid.i18n[i];for(var u in r)t.i18n[u]=r[u]},getInstanceType:function(n){var t=r.exec(""+n.constructor);return t&&t.length>1?t[1].replace(/^\s+|\s+$/g,""):""}}}]);u=function(n,t,i,r){this.rowIndex=0;this.offsetTop=this.rowIndex*i;this.entity=n;this.label=n.gLabel;this.field=n.gField;this.depth=n.gDepth;this.parent=n.parent;this.children=n.children;this.aggChildren=n.aggChildren;this.aggIndex=n.aggIndex;this.collapsed=r;this.groupInitState=r;this.rowFactory=t;this.rowHeight=i;this.isAggRow=!0;this.offsetLeft=25*n.gDepth;this.aggLabelFilter=n.aggLabelFilter};u.prototype.toggleExpand=function(){this.collapsed=this.collapsed?!1:!0;this.orig&&(this.orig.collapsed=this.collapsed);this.notifyChildren()};u.prototype.setExpand=function(n){this.collapsed=n;this.notifyChildren()};u.prototype.notifyChildren=function(){for(var t,i,r=Math.max(this.rowFactory.aggCache.length,this.children.length),n=0;r>n;n++)(this.aggChildren[n]&&(this.aggChildren[n].entity[e]=this.collapsed,this.collapsed&&this.aggChildren[n].setExpand(this.collapsed)),this.children[n]&&(this.children[n][e]=this.collapsed),n>this.aggIndex&&this.rowFactory.aggCache[n])&&(t=this.rowFactory.aggCache[n],i=30*this.children.length,t.offsetTop=this.collapsed?t.offsetTop-i:t.offsetTop+i);this.rowFactory.renderedChange()};u.prototype.aggClass=function(){return this.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"};u.prototype.totalChildren=function(){if(this.aggChildren.length>0){var n=0,t=function(i){i.aggChildren.length>0?angular.forEach(i.aggChildren,function(n){t(n)}):n+=i.children.length};return t(this),n}return this.children.length};u.prototype.copy=function(){var n=new u(this.entity,this.rowFactory,this.rowHeight,this.groupInitState);return n.orig=this,n};var a=function(n,i,r,u,f,e){var s=this,h=n.colDef,p=500,c=0,v=null;s.colDef=n.colDef;s.width=h.width;s.groupIndex=0;s.isGroupedBy=!1;s.minWidth=h.minWidth?h.minWidth:50;s.maxWidth=h.maxWidth?h.maxWidth:9e3;s.enableCellEdit=void 0!==h.enableCellEdit?h.enableCellEdit:n.enableCellEdit||n.enableCellEditOnFocus;s.cellEditableCondition=h.cellEditableCondition||n.cellEditableCondition||"true";s.headerRowHeight=n.headerRowHeight;s.displayName=void 0===h.displayName?h.field:h.displayName;s.index=n.index;s.isAggCol=n.isAggCol;s.cellClass=h.cellClass;s.sortPriority=void 0;s.cellFilter=h.cellFilter?h.cellFilter:"";s.field=h.field;s.aggLabelFilter=h.aggLabelFilter||h.cellFilter;s.visible=e.isNullOrUndefined(h.visible)||h.visible;s.sortable=!1;s.resizable=!1;s.pinnable=!1;s.pinned=n.enablePinning&&h.pinned;s.originalIndex=null==n.originalIndex?s.index:n.originalIndex;s.groupable=e.isNullOrUndefined(h.groupable)||h.groupable;n.enableSort&&(s.sortable=e.isNullOrUndefined(h.sortable)||h.sortable);n.enableResize&&(s.resizable=e.isNullOrUndefined(h.resizable)||h.resizable);n.enablePinning&&(s.pinnable=e.isNullOrUndefined(h.pinnable)||h.pinnable);s.sortDirection=void 0;s.sortingAlgorithm=h.sortFn;s.headerClass=h.headerClass;s.cursor=s.sortable?"pointer":"default";s.headerCellTemplate=h.headerCellTemplate||f.get("headerCellTemplate.html");s.cellTemplate=h.cellTemplate||f.get("cellTemplate.html").replace(y,s.cellFilter?"|"+s.cellFilter:"");s.enableCellEdit&&(s.cellEditTemplate=h.cellEditTemplate||f.get("cellEditTemplate.html"),s.editableCellTemplate=h.editableCellTemplate||f.get("editableCellTemplate.html"));h.cellTemplate&&!l.test(h.cellTemplate)&&(s.cellTemplate=f.get(h.cellTemplate)||t.ajax({type:"GET",url:h.cellTemplate,async:!1}).responseText);s.enableCellEdit&&h.editableCellTemplate&&!l.test(h.editableCellTemplate)&&(s.editableCellTemplate=f.get(h.editableCellTemplate)||t.ajax({type:"GET",url:h.editableCellTemplate,async:!1}).responseText);h.headerCellTemplate&&!l.test(h.headerCellTemplate)&&(s.headerCellTemplate=f.get(h.headerCellTemplate)||t.ajax({type:"GET",url:h.headerCellTemplate,async:!1}).responseText);s.colIndex=function(){var n=s.pinned?"pinned ":"";return n+="col"+s.index+" colt"+s.index,s.cellClass&&(n+=" "+s.cellClass),n};s.groupedByClass=function(){return s.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"};s.toggleVisible=function(){s.visible=!s.visible};s.showSortButtonUp=function(){return s.sortable?s.sortDirection===d:s.sortable};s.showSortButtonDown=function(){return s.sortable?s.sortDirection===o:s.sortable};s.noSortVisible=function(){return!s.sortDirection};s.sort=function(t){if(!s.sortable)return!0;var i=s.sortDirection===o?d:o;return s.sortDirection=i,n.sortCallback(s,t),!1};s.gripClick=function(){c++;1===c?v=setTimeout(function(){c=0},p):(clearTimeout(v),n.resizeOnDataCallback(s),c=0)};s.gripOnMouseDown=function(n){return i.isColumnResizing=!0,n.ctrlKey&&!s.pinned?(s.toggleVisible(),u.BuildStyles(i,r),!0):(n.target.parentElement.style.cursor="col-resize",s.startMousePosition=n.clientX,s.origWidth=s.width,t(document).mousemove(s.onMouseMove),t(document).mouseup(s.gripOnMouseUp),!1)};s.onMouseMove=function(n){var f=n.clientX-s.startMousePosition,t=f+s.origWidth;return s.width=s.minWidth>t?s.minWidth:t>s.maxWidth?s.maxWidth:t,i.hasUserChangedGridColumnWidths=!0,u.BuildStyles(i,r),!1};s.gripOnMouseUp=function(n){return t(document).off("mousemove",s.onMouseMove),t(document).off("mouseup",s.gripOnMouseUp),n.target.parentElement.style.cursor="default",u.digest(i),i.isColumnResizing=!1,!1};s.copy=function(){var t=new a(n,i,r,u,f,e);return t.isClone=!0,t.orig=s,t};s.setVars=function(n){s.orig=n;s.width=n.width;s.groupIndex=n.groupIndex;s.isGroupedBy=n.isGroupedBy;s.displayName=n.displayName;s.index=n.index;s.isAggCol=n.isAggCol;s.cellClass=n.cellClass;s.cellFilter=n.cellFilter;s.field=n.field;s.aggLabelFilter=n.aggLabelFilter;s.visible=n.visible;s.sortable=n.sortable;s.resizable=n.resizable;s.pinnable=n.pinnable;s.pinned=n.pinned;s.originalIndex=n.originalIndex;s.sortDirection=n.sortDirection;s.sortingAlgorithm=n.sortingAlgorithm;s.headerClass=n.headerClass;s.headerCellTemplate=n.headerCellTemplate;s.cellTemplate=n.cellTemplate;s.cellEditTemplate=n.cellEditTemplate}},w=function(n){this.outerHeight=null;this.outerWidth=null;t.extend(this,n)},v=function(n){this.previousColumn=null;this.grid=n};v.prototype.changeUserSelect=function(n,t){n.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"===t?"-moz-none":t,"-ms-user-select":t,"user-select":t})};v.prototype.focusCellElement=function(n,t){var u,f,r,i;n.selectionProvider.lastClickedRow&&(u=void 0!==t?t:this.previousColumn,f=n.selectionProvider.lastClickedRow.clone?n.selectionProvider.lastClickedRow.clone.elm:n.selectionProvider.lastClickedRow.elm,void 0!==u&&f&&(r=angular.element(f[0].children).filter(function(){return 8!==this.nodeType}),i=Math.max(Math.min(n.renderedColumns.length-1,u),0),this.grid.config.showSelectionCheckbox&&angular.element(r[i]).scope()&&0===angular.element(r[i]).scope().col.index&&(i=1),r[i]&&r[i].children[1].children[0].focus(),this.previousColumn=u))};v.prototype.selectionHandlers=function(n,t){function u(u){if(16===u.keyCode)return r.changeUserSelect(t,"none",u),!0;if(!i){i=!0;var f=nt(n,t,u,r.grid);return i=!1,f}return!0}function f(n){return 16===n.keyCode&&r.changeUserSelect(t,"text",n),!0}var i=!1,r=this;t.bind("keydown",u);t.bind("keyup",f);t.on("$destroy",function(){t.off("keydown",u);t.off("keyup",f)})};var ut=function(i,r,u,f){var e=this;e.colToMove=void 0;e.groupToMove=void 0;e.assignEvents=function(){i.config.jqueryUIDraggable&&!i.config.enablePinning?(i.$groupPanel.droppable({addClasses:!1,drop:function(n){e.onGroupDrop(n)}}),i.$groupPanel.on("$destroy",function(){i.$groupPanel=null})):(i.$groupPanel.on("mousedown",e.onGroupMouseDown).on("dragover",e.dragOver).on("drop",e.onGroupDrop),i.$topPanel.on("mousedown",".ngHeaderScroller",e.onHeaderMouseDown).on("dragover",".ngHeaderScroller",e.dragOver),i.$groupPanel.on("$destroy",function(){i.$groupPanel&&i.$groupPanel.off("mousedown");i.$groupPanel=null}),i.config.enableColumnReordering&&i.$topPanel.on("drop",".ngHeaderScroller",e.onHeaderDrop),i.$topPanel.on("$destroy",function(){i.$topPanel&&i.$topPanel.off("mousedown");i.config.enableColumnReordering&&i.$topPanel&&i.$topPanel.off("drop");i.$topPanel=null}));r.$on("$destroy",r.$watch("renderedColumns",function(){f(e.setDraggables)}))};e.dragStart=function(n){n.dataTransfer.setData("text","")};e.dragOver=function(n){n.preventDefault()};e.setDraggables=function(){var t,n;i.config.jqueryUIDraggable?i.$root&&i.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(n){e.onHeaderMouseDown(n)}}).droppable({drop:function(n){e.onHeaderDrop(n)}}):(t=i.$root.find(".ngHeaderSortColumn"),(angular.forEach(t,function(n){n.className&&-1!==n.className.indexOf("ngHeaderSortColumn")&&(n.setAttribute("draggable","true"),n.addEventListener&&(n.addEventListener("dragstart",e.dragStart),angular.element(n).on("$destroy",function(){angular.element(n).off("dragstart",e.dragStart);n.removeEventListener("dragstart",e.dragStart)})))}),-1!==navigator.userAgent.indexOf("MSIE"))&&(n=i.$root.find(".ngHeaderSortColumn"),n.bind("selectstart",function(){return this.dragDrop(),!1}),angular.element(n).on("$destroy",function(){n.off("selectstart")})))};e.onGroupMouseDown=function(n){var r=t(n.target),u;"ngRemoveGroup"!==r[0].className?(u=angular.element(r).scope(),u&&(i.config.jqueryUIDraggable||(r.attr("draggable","true"),this.addEventListener&&(this.addEventListener("dragstart",e.dragStart),angular.element(this).on("$destroy",function(){this.removeEventListener("dragstart",e.dragStart)})),-1!==navigator.userAgent.indexOf("MSIE")&&(r.bind("selectstart",function(){return this.dragDrop(),!1}),r.on("$destroy",function(){r.off("selectstart")}))),e.groupToMove={header:r,groupName:u.group,index:u.$index})):e.groupToMove=void 0};e.onGroupDrop=function(n){n.stopPropagation();var u,f;e.groupToMove?(u=t(n.target).closest(".ngGroupElement"),"ngGroupPanel"===u.context.className?(r.configGroups.splice(e.groupToMove.index,1),r.configGroups.push(e.groupToMove.groupName)):(f=angular.element(u).scope(),f&&e.groupToMove.index!==f.$index&&(r.configGroups.splice(e.groupToMove.index,1),r.configGroups.splice(f.$index,0,e.groupToMove.groupName))),e.groupToMove=void 0,i.fixGroupIndexes()):e.colToMove&&(-1===r.configGroups.indexOf(e.colToMove.col)&&(u=t(n.target).closest(".ngGroupElement"),"ngGroupPanel"===u.context.className||"ngGroupPanelDescription ng-binding"===u.context.className?r.groupBy(e.colToMove.col):(f=angular.element(u).scope(),f&&r.removeGroup(f.$index))),e.colToMove=void 0);r.$$phase||r.$apply()};e.onHeaderMouseDown=function(n){var i=t(n.target).closest(".ngHeaderSortColumn"),r=angular.element(i).scope();r&&(e.colToMove={header:i,col:r.col})};e.onHeaderDrop=function(n){if(e.colToMove&&!e.colToMove.col.pinned){var o=t(n.target).closest(".ngHeaderSortColumn"),f=angular.element(o).scope();if(f){if(e.colToMove.col===f.col||f.col.pinned)return;r.columns.splice(e.colToMove.col.index,1);r.columns.splice(f.col.index,0,e.colToMove.col);i.fixColumnIndexes();e.colToMove=void 0;u.digest(r)}}};e.assignGridEventHandlers=function(){var e,f,o,s;-1===i.config.tabIndex?(i.$viewport.attr("tabIndex",u.numberOfGrids),u.numberOfGrids++):i.$viewport.attr("tabIndex",i.config.tabIndex);f=function(){clearTimeout(e);e=setTimeout(function(){u.RebuildGrid(r,i)},100)};t(n).on("resize.nggrid",f);s=function(){clearTimeout(o);o=setTimeout(function(){u.RebuildGrid(r,i)},100)};t(i.$root.parent()).on("resize.nggrid",s);r.$on("$destroy",function(){t(n).off("resize.nggrid",f)})};e.assignGridEventHandlers();e.assignEvents()},ft=function(n,t){n.maxRows=function(){return Math.max(n.totalServerItems,t.data.length)};n.$on("$destroy",n.$watch("totalServerItems",function(){n.currentMaxPages=n.maxPages()}));n.multiSelect=t.config.enableRowSelection&&t.config.multiSelect;n.selectedItemCount=t.selectedItemCount;n.maxPages=function(){return 0===n.maxRows()?1:Math.ceil(n.maxRows()/n.pagingOptions.pageSize)};n.pageForward=function(){var t=n.pagingOptions.currentPage;n.totalServerItems>0?n.pagingOptions.currentPage=Math.min(t+1,n.maxPages()):n.pagingOptions.currentPage++};n.pageBackward=function(){var t=n.pagingOptions.currentPage;n.pagingOptions.currentPage=Math.max(t-1,1)};n.pageToFirst=function(){n.pagingOptions.currentPage=1};n.pageToLast=function(){var t=n.maxPages();n.pagingOptions.currentPage=t};n.cantPageForward=function(){var i=n.pagingOptions.currentPage,r=n.maxPages();return n.totalServerItems>0?i>=r:1>t.data.length};n.cantPageToLast=function(){return n.totalServerItems>0?n.cantPageForward():!0};n.cantPageBackward=function(){var t=n.pagingOptions.currentPage;return 1>=t}},et=function(i,r,u,o,s,h,c,y,p,d,g){var tt={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellEditOnFocus:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,forceSyncScrolling:!0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50,noTabInterference:!1},nt=this;nt.maxCanvasHt=0;nt.config=t.extend(tt,n.ngGrid.config,r);nt.config.showSelectionCheckbox=nt.config.showSelectionCheckbox&&nt.config.enableColumnHeavyVirt===!1;nt.config.enablePinning=nt.config.enablePinning&&nt.config.enableColumnHeavyVirt===!1;nt.config.selectWithCheckboxOnly=nt.config.selectWithCheckboxOnly&&nt.config.showSelectionCheckbox!==!1;nt.config.pinSelectionCheckbox=nt.config.enablePinning;"string"==typeof r.columnDefs&&(nt.config.columnDefs=i.$eval(r.columnDefs));nt.rowCache=[];nt.rowMap=[];nt.gridId="ng"+c.newId();nt.$root=null;nt.$groupPanel=null;nt.$topPanel=null;nt.$headerContainer=null;nt.$headerScroller=null;nt.$headers=null;nt.$viewport=null;nt.$canvas=null;nt.rootDim=nt.config.gridDim;nt.data=[];nt.lateBindColumns=!1;nt.filteredRows=[];nt.initTemplates=function(){var n=[];return angular.forEach(["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],function(t){n.push(nt.getTemplate(t))}),g.all(n)};nt.getTemplate=function(n){var t=nt.config[n],r=nt.gridId+n+".html",i=g.defer(),u;return t&&!l.test(t)?d.get(t,{cache:h}).success(function(n){h.put(r,n);i.resolve()}).error(function(){i.reject("Could not load template: "+t)}):t?(h.put(r,t),i.resolve()):(u=n+".html",h.put(r,h.get(u)),i.resolve()),i.promise};"object"==typeof nt.config.data&&(nt.data=nt.config.data);nt.calcMaxCanvasHeight=function(){return nt.config.groups.length>0?nt.rowFactory.parsedData.filter(function(n){return!n[e]}).length*nt.config.rowHeight:nt.filteredRows.length*nt.config.rowHeight};nt.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0};nt.setRenderedRows=function(n){i.renderedRows.length=n.length;for(var t=0;n.length>t;t++)!i.renderedRows[t]||n[t].isAggRow||i.renderedRows[t].isAggRow?(i.renderedRows[t]=n[t].copy(),i.renderedRows[t].collapsed=n[t].collapsed,n[t].isAggRow||i.renderedRows[t].setVars(n[t])):i.renderedRows[t].setVars(n[t]),i.renderedRows[t].rowIndex=n[t].rowIndex,i.renderedRows[t].offsetTop=n[t].offsetTop,i.renderedRows[t].selected=n[t].selected,n[t].renderedRowIndex=t;nt.refreshDomSizes();i.$emit("ngGridEventRows",n)};nt.minRowsToRender=function(){var n=i.viewportDimHeight()||1;return Math.floor(n/nt.config.rowHeight)};nt.refreshDomSizes=function(){var n=new w;n.outerWidth=nt.elementDims.rootMaxW;n.outerHeight=nt.elementDims.rootMaxH;nt.rootDim=n;nt.maxCanvasHt=nt.calcMaxCanvasHeight()};nt.buildColumnDefsFromData=function(){nt.config.columnDefs=[];var n=nt.data[0];return n?(c.forIn(n,function(n,t){-1===nt.config.excludeProperties.indexOf(t)&&nt.config.columnDefs.push({field:t})}),void 0):(nt.lateBoundColumns=!0,void 0)};nt.buildColumns=function(){var n=nt.config.columnDefs,t=[],r,u;(n||(nt.buildColumnDefsFromData(),n=nt.config.columnDefs),nt.config.showSelectionCheckbox&&t.push(new a({colDef:{field:"✔",width:nt.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:h.get(i.gridId+"checkboxHeaderTemplate.html"),cellTemplate:h.get(i.gridId+"checkboxCellTemplate.html"),pinned:nt.config.pinSelectionCheckbox},index:0,headerRowHeight:nt.config.headerRowHeight,sortCallback:nt.sortData,resizeOnDataCallback:nt.resizeOnData,enableResize:nt.config.enableColumnResize,enableSort:nt.config.enableSorting,enablePinning:nt.config.enablePinning},i,nt,o,h,c)),n.length>0)&&(r=nt.config.showSelectionCheckbox?1:0,u=i.configGroups.length,i.configGroups.length=0,angular.forEach(n,function(n,f){f+=r;var e=new a({colDef:n,index:f+u,originalIndex:f,headerRowHeight:nt.config.headerRowHeight,sortCallback:nt.sortData,resizeOnDataCallback:nt.resizeOnData,enableResize:nt.config.enableColumnResize,enableSort:nt.config.enableSorting,enablePinning:nt.config.enablePinning,enableCellEdit:nt.config.enableCellEdit||nt.config.enableCellEditOnFocus,cellEditableCondition:nt.config.cellEditableCondition},i,nt,o,h,c),s=nt.config.groups.indexOf(n.field);-1!==s&&(e.isGroupedBy=!0,i.configGroups.splice(s,0,e),e.groupIndex=i.configGroups.length);t.push(e)}),i.columns=t,nt.config.groups.length>0&&nt.rowFactory.getGrouping(nt.config.groups))};nt.configureColumnWidths=function(){var u=[],f=[],h=0,n=0,t={},r,e,l,s,a;(angular.forEach(i.columns,function(i,r){if(!c.isNullOrUndefined(i.originalIndex)){var u=i.originalIndex;nt.config.showSelectionCheckbox&&(0===i.originalIndex&&i.visible&&(n+=25),u--);t[u]=r}}),angular.forEach(nt.config.columnDefs,function(r,e){var o=i.columns[t[e]],s,l,a;if(r.index=e,l=!1,c.isNullOrUndefined(r.width)?r.width="*":(l=isNaN(r.width)?c.endsWith(r.width,"%"):!1,s=l?r.width:parseInt(r.width,10)),isNaN(s)&&!i.hasUserChangedGridColumnWidths){if(s=r.width,"auto"===s)return o.width=o.minWidth,n+=o.width,a=o,i.$on("$destroy",i.$on("ngGridEventData",function(){nt.resizeOnData(a)})),void 0;if(-1!==s.indexOf("*"))return o.visible!==!1&&(h+=s.length),u.push(r),void 0;if(l)return f.push(r),void 0;throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid';}o.visible!==!1&&(n+=o.width=parseInt(o.width,10))}),f.length>0)&&(nt.config.maintainColumnRatios=nt.config.maintainColumnRatios!==!1,r=0,e=0,angular.forEach(f,function(n){var f=i.columns[t[n.index]],u=parseFloat(n.width)/100;r+=u;f.visible||(e+=u)}),l=r-e,angular.forEach(f,function(u){var f=i.columns[t[u.index]],o=parseFloat(u.width)/100,s;o/=e>0?l:r;s=nt.rootDim.outerWidth*r;f.width=s*o;n+=f.width}));u.length>0&&(nt.config.maintainColumnRatios=nt.config.maintainColumnRatios!==!1,s=nt.rootDim.outerWidth-n,nt.maxCanvasHt>i.viewportDimHeight()&&(s-=o.ScrollW),a=Math.floor(s/h),angular.forEach(u,function(r,f){var e=i.columns[t[r.index]],h,s;e.width=a*r.width.length;e.visible!==!1&&(n+=e.width);h=f===u.length-1;h&&nt.rootDim.outerWidth>n&&(s=nt.rootDim.outerWidth-n,nt.maxCanvasHt>i.viewportDimHeight()&&(s-=o.ScrollW),e.width+=s)}))};nt.init=function(){return nt.initTemplates().then(function(){i.selectionProvider=new ht(nt,i,p);i.domAccessProvider=new v(nt);nt.rowFactory=new ot(nt,i,o,h,c);nt.searchProvider=new st(i,nt,s);nt.styleProvider=new ct(i,nt);i.$on("$destroy",i.$watch("configGroups",function(n){var t=[];angular.forEach(n,function(n){t.push(n.field||n)});nt.config.groups=t;nt.rowFactory.filteredRowsChanged();i.$emit("ngGridEventGroups",n)},!0));i.$on("$destroy",i.$watch("columns",function(n){i.isColumnResizing||o.RebuildGrid(i,nt);i.$emit("ngGridEventColumns",n)},!0));i.$on("$destroy",i.$watch(function(){return r.i18n},function(n){c.seti18n(i,n)}));nt.maxCanvasHt=nt.calcMaxCanvasHeight();nt.config.sortInfo.fields&&nt.config.sortInfo.fields.length>0&&i.$on("$destroy",i.$watch(function(){return nt.config.sortInfo},function(){u.isSorting||(nt.sortColumnsInit(),i.$emit("ngGridEventSorted",nt.config.sortInfo))},!0))})};nt.resizeOnData=function(n){var r=n.minWidth,u=c.getElementsByClassName("col"+n.index);angular.forEach(u,function(n,i){var u,f,e;0===i?(f=t(n).find(".ngHeaderText"),u=c.visualLength(f)+10):(e=t(n).find(".ngCellText"),u=c.visualLength(e)+10);u>r&&(r=u)});n.width=n.longest=Math.min(n.maxWidth,r+7);o.BuildStyles(i,nt,!0)};nt.lastSortedColumns=[];nt.sortData=function(n,r){var u,e,f;r&&r.shiftKey&&nt.config.sortInfo?(u=nt.config.sortInfo.columns.indexOf(n),-1===u?(1===nt.config.sortInfo.columns.length&&(nt.config.sortInfo.columns[0].sortPriority=1),nt.config.sortInfo.columns.push(n),n.sortPriority=nt.config.sortInfo.columns.length,nt.config.sortInfo.fields.push(n.field),nt.config.sortInfo.directions.push(n.sortDirection),nt.lastSortedColumns.push(n)):nt.config.sortInfo.directions[u]=n.sortDirection):(!nt.config.useExternalSorting||nt.config.useExternalSorting&&nt.config.sortInfo)&&(e=t.isArray(n),nt.config.sortInfo.columns.length=0,nt.config.sortInfo.fields.length=0,nt.config.sortInfo.directions.length=0,f=function(n){nt.config.sortInfo.columns.push(n);nt.config.sortInfo.fields.push(n.field);nt.config.sortInfo.directions.push(n.sortDirection);nt.lastSortedColumns.push(n)},e?angular.forEach(n,function(n,t){n.sortPriority=t+1;f(n)}):(nt.clearSortingData(n),n.sortPriority=void 0,f(n)),nt.sortActual(),nt.searchProvider.evalFilter(),i.$emit("ngGridEventSorted",nt.config.sortInfo))};nt.sortColumnsInit=function(){nt.config.sortInfo.columns?nt.config.sortInfo.columns.length=0:nt.config.sortInfo.columns=[];var n=[];angular.forEach(i.columns,function(t){var i=nt.config.sortInfo.fields.indexOf(t.field);-1!==i&&(t.sortDirection=nt.config.sortInfo.directions[i]||"asc",n[i]=t)});1===n.length?nt.sortData(n[0]):nt.sortData(n)};nt.sortActual=function(){if(!nt.config.useExternalSorting){var n=nt.data.slice(0);angular.forEach(n,function(n,t){var r=nt.rowMap[t],i;void 0!==r&&(i=nt.rowCache[r],void 0!==i&&(n.preSortSelected=i.selected,n.preSortIndex=t))});u.Sort(nt.config.sortInfo,n);angular.forEach(n,function(n,t){nt.rowCache[t].entity=n;nt.rowCache[t].selected=n.preSortSelected;nt.rowMap[n.preSortIndex]=t;delete n.preSortSelected;delete n.preSortIndex})}};nt.clearSortingData=function(n){n?(angular.forEach(nt.lastSortedColumns,function(t){n.index!==t.index&&(t.sortDirection="",t.sortPriority=null)}),nt.lastSortedColumns[0]=n,nt.lastSortedColumns.length=1):(angular.forEach(nt.lastSortedColumns,function(n){n.sortDirection="";n.sortPriority=null}),nt.lastSortedColumns=[])};nt.fixColumnIndexes=function(){for(var n=0;i.columns.length>n;n++)i.columns[n].index=n};nt.fixGroupIndexes=function(){angular.forEach(i.configGroups,function(n,t){n.groupIndex=t+1})};i.elementsNeedMeasuring=!0;i.columns=[];i.renderedRows=[];i.renderedColumns=[];i.headerRow=null;i.rowHeight=nt.config.rowHeight;i.jqueryUITheme=nt.config.jqueryUITheme;i.showSelectionCheckbox=nt.config.showSelectionCheckbox;i.enableCellSelection=nt.config.enableCellSelection;i.enableCellEditOnFocus=nt.config.enableCellEditOnFocus;i.footer=null;i.selectedItems=nt.config.selectedItems;i.multiSelect=nt.config.multiSelect;i.showFooter=nt.config.showFooter;i.footerRowHeight=i.showFooter?nt.config.footerRowHeight:0;i.showColumnMenu=nt.config.showColumnMenu;i.forceSyncScrolling=nt.config.forceSyncScrolling;i.showMenu=!1;i.configGroups=[];i.gridId=nt.gridId;i.enablePaging=nt.config.enablePaging;i.pagingOptions=nt.config.pagingOptions;i.i18n={};c.seti18n(i,nt.config.i18n);i.adjustScrollLeft=function(n){for(var t,l,a,f=0,e=0,v=i.columns.length,s=[],h=!nt.config.enableColumnHeavyVirt,r=0,c=function(n){h?s.push(n):i.renderedColumns[r]?i.renderedColumns[r].setVars(n):i.renderedColumns[r]=n.copy();r++},u=0;v>u;u++)t=i.columns[u],t.visible!==!1&&(l=t.width+f,t.pinned?(c(t),a=u>0?n+e:n,o.setColLeft(t,a,nt),e+=t.width):l>=n&&n+nt.rootDim.outerWidth>=f&&c(t),f+=t.width);h&&(i.renderedColumns=s)};nt.prevScrollTop=0;nt.prevScrollIndex=0;i.adjustScrollTop=function(n,t){var u,r,e;if(nt.prevScrollTop!==n||t){if(n>0&&nt.$viewport[0].scrollHeight-n<=nt.$viewport.outerHeight()&&i.$emit("ngGridEventScroll"),r=Math.floor(n/nt.config.rowHeight),nt.filteredRows.length>nt.config.virtualizationThreshold){if(n>nt.prevScrollTop&&nt.prevScrollIndex+k>r)return;if(nt.prevScrollTop>n&&r>nt.prevScrollIndex-k)return;u=new b(Math.max(0,r-f),r+nt.minRowsToRender()+f)}else e=i.configGroups.length>0?nt.rowFactory.parsedData.length:nt.filteredRows.length,u=new b(0,Math.max(e,nt.minRowsToRender()+f));nt.prevScrollTop=n;nt.rowFactory.UpdateViewableRange(u);nt.prevScrollIndex=r}};i.toggleShowMenu=function(){i.showMenu=!i.showMenu};i.toggleSelectAll=function(n,t){i.selectionProvider.toggleSelectAll(n,!1,t)};i.totalFilteredItemsLength=function(){return nt.filteredRows.length};i.showGroupPanel=function(){return nt.config.showGroupPanel};i.topPanelHeight=function(){return nt.config.showGroupPanel===!0?nt.config.headerRowHeight+32:nt.config.headerRowHeight};i.viewportDimHeight=function(){return Math.max(0,nt.rootDim.outerHeight-i.topPanelHeight()-i.footerRowHeight-2)};i.groupBy=function(n){if(!(1>nt.data.length)&&n.groupable&&n.field){n.sortDirection||n.sort({shiftKey:i.configGroups.length>0?!0:!1});var t=i.configGroups.indexOf(n);-1===t?(n.isGroupedBy=!0,i.configGroups.push(n),n.groupIndex=i.configGroups.length):i.removeGroup(t);nt.$viewport.scrollTop(0);o.digest(i)}};i.removeGroup=function(n){var t=i.columns.filter(function(t){return t.groupIndex===n+1})[0];t.isGroupedBy=!1;t.groupIndex=0;i.columns[n].isAggCol&&(i.columns.splice(n,1),i.configGroups.splice(n,1),nt.fixGroupIndexes());0===i.configGroups.length&&(nt.fixColumnIndexes(),o.digest(i));i.adjustScrollLeft(0)};i.togglePin=function(n){for(var u=n.index,t=0,r=0;i.columns.length>r&&i.columns[r].pinned;r++)t++;n.pinned&&(t=Math.max(n.originalIndex,t-1));n.pinned=!n.pinned;i.columns.splice(u,1);i.columns.splice(t,0,n);nt.fixColumnIndexes();o.BuildStyles(i,nt,!0);nt.$viewport.scrollLeft(nt.$viewport.scrollLeft()-n.width)};i.totalRowWidth=function(){for(var r=0,t=i.columns,n=0;t.length>n;n++)t[n].visible!==!1&&(r+=t[n].width);return r};i.headerScrollerDim=function(){var t=i.viewportDimHeight(),r=nt.maxCanvasHt,u=r>t,n=new w;return n.autoFitHeight=!0,n.outerWidth=i.totalRowWidth(),u?n.outerWidth+=nt.elementDims.scrollW:nt.elementDims.scrollH>=r-t&&(n.outerWidth+=nt.elementDims.scrollW),n}},b=function(n,t){this.topRow=n;this.bottomRow=t},r=function(n,t,i,r,u){this.entity=n;this.config=t;this.selectionProvider=i;this.rowIndex=r;this.utils=u;this.selected=i.getSelection(n);this.cursor=this.config.enableRowSelection&&!this.config.selectWithCheckboxOnly?"pointer":"default";this.beforeSelectionChange=t.beforeSelectionChangeCallback;this.afterSelectionChange=t.afterSelectionChangeCallback;this.offsetTop=this.rowIndex*t.rowHeight;this.rowDisplayIndex=0};r.prototype.setSelection=function(n){this.selectionProvider.setSelection(this,n);this.selectionProvider.lastClickedRow=this};r.prototype.continueSelection=function(n){this.selectionProvider.ChangeSelection(this,n)};r.prototype.ensureEntity=function(n){this.entity!==n&&(this.entity=n,this.selected=this.selectionProvider.getSelection(this.entity))};r.prototype.toggleSelected=function(n){if(!this.config.enableRowSelection&&!this.config.enableCellSelection)return!0;var t=n.target||n;return"checkbox"===t.type&&"ngSelectionCell ng-scope"!==t.parentElement.className?!0:this.config.selectWithCheckboxOnly&&"checkbox"!==t.type?(this.selectionProvider.lastClickedRow=this,!0):(this.beforeSelectionChange(this,n)&&this.continueSelection(n),!1)};r.prototype.alternatingRowClass=function(){var n=0==this.rowIndex%2;return{ngRow:!0,selected:this.selected,even:n,odd:!n,"ui-state-default":this.config.jqueryUITheme&&n,"ui-state-active":this.config.jqueryUITheme&&!n}};r.prototype.getProperty=function(n){return this.utils.evalProperty(this.entity,n)};r.prototype.copy=function(){return this.clone=new r(this.entity,this.config,this.selectionProvider,this.rowIndex,this.utils),this.clone.isClone=!0,this.clone.elm=this.elm,this.clone.orig=this,this.clone};r.prototype.setVars=function(n){n.clone=this;this.entity=n.entity;this.selected=n.selected;this.orig=n};var ot=function(n,t,i,o,l){var v=this;v.aggCache={};v.parentCache=[];v.dataChanged=!0;v.parsedData=[];v.rowConfig={};v.selectionProvider=t.selectionProvider;v.rowHeight=30;v.numberOfAggregates=0;v.groupedData=void 0;v.rowHeight=n.config.rowHeight;v.rowConfig={enableRowSelection:n.config.enableRowSelection,rowClasses:n.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:n.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:n.config.beforeSelectionChange,afterSelectionChangeCallback:n.config.afterSelectionChange,jqueryUITheme:n.config.jqueryUITheme,enableCellSelection:n.config.enableCellSelection,rowHeight:n.config.rowHeight};v.renderedRange=new b(0,n.minRowsToRender()+f);v.buildEntityRow=function(n,t){return new r(n,v.rowConfig,v.selectionProvider,t,l)};v.buildAggregateRow=function(t,i){var r=v.aggCache[t.aggIndex];return r||(r=new u(t,v,v.rowConfig.rowHeight,n.config.groupsCollapsedByDefault),v.aggCache[t.aggIndex]=r),r.rowIndex=i,r.offsetTop=i*v.rowConfig.rowHeight,r};v.UpdateViewableRange=function(n){v.renderedRange=n;v.renderedChange()};v.filteredRowsChanged=function(){n.lateBoundColumns&&n.filteredRows.length>0&&(n.config.columnDefs=void 0,n.buildColumns(),n.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)}));v.dataChanged=!0;n.config.groups.length>0&&v.getGrouping(n.config.groups);v.UpdateViewableRange(v.renderedRange)};v.renderedChange=function(){var u,i,r,t;if(!v.groupedData||1>n.config.groups.length)return v.renderedChangeNoGroups(),n.refreshDomSizes(),void 0;for(v.wasGrouped=!0,v.parentCache=[],u=0,i=v.parsedData.filter(function(n){return n.isAggRow?n.parent&&n.parent.collapsed?!1:!0:(n[e]||(n.rowIndex=u++),!n[e])}),v.totalRows=i.length,r=[],t=v.renderedRange.topRow;v.renderedRange.bottomRow>t;t++)i[t]&&(i[t].offsetTop=t*n.config.rowHeight,r.push(i[t]));n.setRenderedRows(r)};v.renderedChangeNoGroups=function(){for(var i=[],t=v.renderedRange.topRow;v.renderedRange.bottomRow>t;t++)n.filteredRows[t]&&(n.filteredRows[t].rowIndex=t,n.filteredRows[t].offsetTop=t*n.config.rowHeight,i.push(n.filteredRows[t]));n.setRenderedRows(i)};v.fixRowCache=function(){var i=n.data.length,r=i-n.rowCache.length,t;if(0>r)n.rowCache.length=n.rowMap.length=i;else for(t=n.rowCache.length;i>t;t++)n.rowCache[t]=n.rowFactory.buildEntityRow(n.data[t],t)};v.parseGroupData=function(n){var r,i,t;if(n.values)for(r=0;n.values.length>r;r++)v.parentCache[v.parentCache.length-1].children.push(n.values[r]),v.parsedData.push(n.values[r]);else for(i in n)i!==s&&i!==h&&i!==c&&n.hasOwnProperty(i)&&(t=v.buildAggregateRow({gField:n[s],gLabel:i,gDepth:n[h],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:v.numberOfAggregates,aggLabelFilter:n[c].aggLabelFilter},0),v.numberOfAggregates++,t.parent=v.parentCache[t.depth-1],t.parent&&(t.parent.collapsed=!1,t.parent.aggChildren.push(t)),v.parsedData.push(t),v.parentCache[t.depth]=t,v.parseGroupData(n[i]))};v.getGrouping=function(r){function nt(n,t){return n.filter(function(n){return n.field===t})}var d,u,p,w;v.aggCache=[];v.numberOfAggregates=0;v.groupedData={};for(var b=n.filteredRows,tt=r.length,k=t.columns,y=0;b.length>y;y++){if(d=b[y].entity,!d)return;for(b[y][e]=n.config.groupsCollapsedByDefault,u=v.groupedData,p=0;r.length>p;p++){var g=r[p],it=nt(k,g)[0],f=l.evalProperty(d,g);f=f?""+f:"null";u[f]||(u[f]={});u[s]||(u[s]=g);u[h]||(u[h]=p);u[c]||(u[c]=it);u=u[f]}u.values||(u.values=[]);u.values.push(b[y])}if(k.length>0)for(w=0;r.length>w;w++)!k[w].isAggCol&&tt>=w&&k.splice(0,0,new a({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"><\/div>',pinned:n.config.pinSelectionCheckbox},enablePinning:n.config.enablePinning,isAggCol:!0,headerRowHeight:n.config.headerRowHeight},t,n,i,o,l));n.fixColumnIndexes();t.adjustScrollLeft(0);v.parsedData.length=0;v.parseGroupData(v.groupedData);v.fixRowCache()};n.config.groups.length>0&&n.filteredRows.length>0&&v.getGrouping(n.config.groups)},st=function(n,i,r){var u=this,f=[];u.extFilter=i.config.filterOptions.useExternalFilter;n.showFilter=i.config.showFilter;n.filterText="";u.fieldMap={};var h=function(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t.toLowerCase()]=n[t]);return i},e=function(n,t,i){var o,s,f,u,c,l,a,v;for(s in t)if(t.hasOwnProperty(s)){if(f=i[s.toLowerCase()],!f)continue;if(u=t[s],"object"!=typeof u||u instanceof Date){if(c=null,l=null,(f&&f.cellFilter&&(l=f.cellFilter.split(":"),c=r(l[0])),null!==u&&void 0!==u)&&("function"==typeof c?(a=""+c(u,l[1].slice(1,-1)),o=n.regex.test(a)):o=n.regex.test(""+u),o))return!0}else if(v=h(f),o=e(n,u,v))return!0}return!1},c=function(n,t){var e,f=u.fieldMap[n.columnDisplay],c;if(!f)return!1;var s=f.cellFilter.split(":"),h=f.cellFilter?r(s[0]):null,i=t[n.column]||t[f.field.split(".")[0]];return null===i||void 0===i?!1:("function"==typeof h?(c=""+h("object"==typeof i?o(i,f.field):i,s[1]),e=n.regex.test(c)):e=n.regex.test("object"==typeof i?""+o(i,f.field):""+i),e?!0:!1)},l=function(n){for(var o,i,t=0,r=f.length;r>t;t++)if(i=f[t],o=i.column?c(i,n):e(i,n,u.fieldMap),!o)return!1;return!0};u.evalFilter=function(){i.filteredRows=0===f.length?i.rowCache:i.rowCache.filter(function(n){return l(n.entity)});for(var n=0;i.filteredRows.length>n;n++)i.filteredRows[n].rowIndex=n;i.rowFactory.filteredRowsChanged()};var o=function(n,t){var r,i,u,f;if("object"!=typeof n||"string"!=typeof t)return n;if(r=t.split("."),i=n,r.length>1){for(u=1,f=r.length;f>u;u++)if(i=i[r[u]],!i)return n;return i}return n},s=function(n,t){try{return RegExp(n,t)}catch(i){return RegExp(n.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},a=function(n){var c,e,r,i,u,o,h;if(f=[],c=t.trim(n))for(e=c.split(";"),r=0;e.length>r;r++)i=e[r].split(":"),i.length>1?(u=t.trim(i[0]),o=t.trim(i[1]),u&&o&&f.push({column:u,columnDisplay:u.replace(/\s+/g,"").toLowerCase(),regex:s(o,"i")})):(h=t.trim(i[0]),h&&f.push({column:"",regex:s(h,"i")}))};u.extFilter||n.$on("$destroy",n.$watch("columns",function(n){for(var t,e=0;n.length>e;e++){if(t=n[e],t.field)if(t.field.match(/\./g)){for(var i=t.field.split("."),r=u.fieldMap,f=0;i.length-1>f;f++)r[i[f]]=r[i[f]]||{},r=r[i[f]];r[i[i.length-1]]=t}else u.fieldMap[t.field.toLowerCase()]=t;t.displayName&&(u.fieldMap[t.displayName.toLowerCase().replace(/\s+/g,"")]=t)}}));n.$on("$destroy",n.$watch(function(){return i.config.filterOptions.filterText},function(t){n.filterText=t}));n.$on("$destroy",n.$watch("filterText",function(t){u.extFilter||(n.$emit("ngGridEventFilter",t),a(t),u.evalFilter())}))},ht=function(n,t,i){var r=this;r.multi=n.config.multiSelect;r.selectedItems=n.config.selectedItems;r.selectedIndex=n.config.selectedIndex;r.lastClickedRow=void 0;r.ignoreSelectedItemChanges=!1;r.pKeyParser=i(n.config.primaryKey);r.ChangeSelection=function(i,u){var l=u.which||u.keyCode,y=40===l||38===l,a,o,f,e,h,s,v,c;if(u&&u.shiftKey&&!u.keyCode&&r.multi&&n.config.enableRowSelection){if(r.lastClickedRow){if(a=t.configGroups.length>0?n.rowFactory.parsedData.filter(function(n){return!n.isAggRow}):n.filteredRows,o=i.rowIndex,f=r.lastClickedRowIndex,o===f)return!1;for(f>o?(o^=f,f=o^f,o^=f,o--):f++,e=[];o>=f;f++)e.push(a[f]);if(e[e.length-1].beforeSelectionChange(e,u)){for(h=0;e.length>h;h++)s=e[h],v=s.selected,s.selected=!v,s.clone&&(s.clone.selected=s.selected),c=r.selectedItems.indexOf(s.entity),-1===c?r.selectedItems.push(s.entity):r.selectedItems.splice(c,1);e[e.length-1].afterSelectionChange(e,u)}return r.lastClickedRow=i,r.lastClickedRowIndex=i.rowIndex,!0}}else r.multi?(!u.keyCode||y&&!n.config.selectWithCheckboxOnly)&&r.setSelection(i,!i.selected):r.lastClickedRow===i?r.setSelection(r.lastClickedRow,n.config.keepLastSelected?!0:!i.selected):(r.lastClickedRow&&r.setSelection(r.lastClickedRow,!1),r.setSelection(i,!i.selected));return r.lastClickedRow=i,r.lastClickedRowIndex=i.rowIndex,!0};r.getSelection=function(n){return-1!==r.getSelectionIndex(n)};r.getSelectionIndex=function(t){var i=-1,u;return n.config.primaryKey?(u=r.pKeyParser(t),angular.forEach(r.selectedItems,function(n,t){u===r.pKeyParser(n)&&(i=t)})):i=r.selectedItems.indexOf(t),i};r.setSelection=function(t,i){if(n.config.enableRowSelection){if(i)-1===r.getSelectionIndex(t.entity)&&(!r.multi&&r.selectedItems.length>0&&r.toggleSelectAll(!1,!0),r.selectedItems.push(t.entity));else{var u=r.getSelectionIndex(t.entity);-1!==u&&r.selectedItems.splice(u,1)}t.selected=i;t.orig&&(t.orig.selected=i);t.clone&&(t.clone.selected=i);t.afterSelectionChange(t)}};r.toggleSelectAll=function(t,i,u){var f=u?n.filteredRows:n.rowCache,o,e;if(i||n.config.beforeSelectionChange(f,t)){for(o=r.selectedItems.length,o>0&&(r.selectedItems.length=0),e=0;f.length>e;e++)f[e].selected=t,f[e].clone&&(f[e].clone.selected=t),t&&r.selectedItems.push(f[e].entity);i||n.config.afterSelectionChange(f,t)}}},ct=function(n,t){n.headerCellStyle=function(n){return{height:n.headerRowHeight+"px"}};n.rowStyle=function(t){var i={top:t.offsetTop+"px",height:n.rowHeight+"px"};return t.isAggRow&&(i.left=t.offsetLeft),i};n.canvasStyle=function(){return{height:t.maxCanvasHt+"px"}};n.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}};n.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:n.topPanelHeight()+"px"}};n.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}};n.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}};n.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:n.viewportDimHeight()+"px"}};n.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:n.footerRowHeight+"px"}}};i.directive("ngCellHasFocus",["$domUtilityService",function(n){var t=function(t){t.isFocused=!0;n.digest(t);t.$broadcast("ngGridEventStartCellEdit");t.$emit("ngGridEventStartCellEdit");t.$on("$destroy",t.$on("ngGridEventEndCellEdit",function(){t.isFocused=!1;n.digest(t)}))};return function(n,i){function f(){return n.enableCellEditOnFocus?u=!0:i.focus(),!0}function e(r){n.enableCellEditOnFocus&&(r.preventDefault(),u=!1,t(n,i))}function o(){return r=!0,n.enableCellEditOnFocus&&!u&&t(n,i),!0}function s(){return r=!1,!0}function h(u){return n.enableCellEditOnFocus||(r&&37!==u.keyCode&&38!==u.keyCode&&39!==u.keyCode&&40!==u.keyCode&&9!==u.keyCode&&!u.shiftKey&&13!==u.keyCode&&t(n,i),r&&u.shiftKey&&u.keyCode>=65&&90>=u.keyCode&&t(n,i),27===u.keyCode&&i.focus()),!0}var r=!1,u=!1;n.editCell=function(){n.enableCellEditOnFocus||setTimeout(function(){t(n,i)},0)};i.bind("mousedown",f);i.bind("click",e);i.bind("focus",o);i.bind("blur",s);i.bind("keydown",h);i.on("$destroy",function(){i.off("mousedown",f);i.off("click",e);i.off("focus",o);i.off("blur",s);i.off("keydown",h)})}}]);i.directive("ngCellText",function(){return function(n,t){function i(n){n.preventDefault()}function r(n){n.preventDefault()}t.bind("mouseover",i);t.bind("mouseleave",r);t.on("$destroy",function(){t.off("mouseover",i);t.off("mouseleave",r)})}});i.directive("ngCell",["$compile","$domUtilityService",function(n,i){return{scope:!1,compile:function(){return{pre:function(i,r){var u,e=i.col.cellTemplate.replace(g,"row.entity."+i.col.field),f;i.col.enableCellEdit?(u=i.col.cellEditTemplate,u=u.replace(rt,i.col.cellEditableCondition),u=u.replace(tt,e),u=u.replace(it,i.col.editableCellTemplate.replace(g,"row.entity."+i.col.field))):u=e;f=t(u);r.append(f);n(f)(i);i.enableCellSelection&&-1===f[0].className.indexOf("ngSelectionCell")&&(f[0].setAttribute("tabindex",0),f.addClass("ngCellElement"))},post:function(n,t){n.enableCellSelection&&n.domAccessProvider.selectionHandlers(n,t);n.$on("$destroy",n.$on("ngGridEventDigestCell",function(){i.digest(n)}))}}}}}]);i.directive("ngEditCellIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(n,t,i){return function(n,t,r){var f,u;n.$on("$destroy",n.$watch(r.ngEditCellIf,function(r){f&&(f.remove(),f=void 0);u&&(u.$destroy(),u=void 0);r&&(u=n.$new(),i(u,function(n){f=n;t.after(n)}))}))}}}}]);i.directive("ngGridFooter",["$compile","$templateCache",function(n,t){return{scope:!1,compile:function(){return{pre:function(i,r){0===r.children().length&&r.append(n(t.get(i.gridId+"footerTemplate.html"))(i))}}}}}]);i.directive("ngGridMenu",["$compile","$templateCache",function(n,t){return{scope:!1,compile:function(){return{pre:function(i,r){0===r.children().length&&r.append(n(t.get(i.gridId+"menuTemplate.html"))(i))}}}}}]);i.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(n,i,r,u,f,e,o,s,h,c){return{scope:!0,compile:function(){return{pre:function(l,a,v){var b=t(a),p=l.$eval(v.ngGrid),y;return p.gridDim=new w({outerHeight:t(b).height(),outerWidth:t(b).width()}),y=new et(l,p,u,f,i,r,e,o,s,h,c),l.$on("$destroy",function(){p.gridDim=null;p.selectRow=null;p.selectItem=null;p.selectAll=null;p.selectVisible=null;p.groupBy=null;p.sortBy=null;p.gridId=null;p.ngGrid=null;p.$gridScope=null;p.$gridServices=null;l.domAccessProvider.grid=null;angular.element(y.styleSheet).remove();y.styleSheet=null}),y.init().then(function(){if("string"==typeof p.columnDefs?l.$on("$destroy",l.$parent.$watch(p.columnDefs,function(n){return n?(y.lateBoundColumns=!1,l.columns=[],y.config.columnDefs=n,y.buildColumns(),y.eventProvider.assignEvents(),f.RebuildGrid(l,y),void 0):(y.refreshDomSizes(),y.buildColumns(),void 0)},!0)):y.buildColumns(),"string"==typeof p.totalServerItems?l.$on("$destroy",l.$parent.$watch(p.totalServerItems,function(n){l.totalServerItems=angular.isDefined(n)?n:0})):l.totalServerItems=0,"string"==typeof p.data){var i=function(n){y.data=t.extend([],n);y.rowFactory.fixRowCache();angular.forEach(y.data,function(n,t){var i=y.rowMap[t]||t;y.rowCache[i]&&y.rowCache[i].ensureEntity(n);y.rowMap[i]=t});y.searchProvider.evalFilter();y.configureColumnWidths();y.refreshDomSizes();y.config.sortInfo.fields.length>0&&(y.sortColumnsInit(),l.$emit("ngGridEventSorted",y.config.sortInfo));l.$emit("ngGridEventData",y.gridId)};l.$on("$destroy",l.$parent.$watch(p.data,i));l.$on("$destroy",l.$parent.$watch(p.data+".length",function(){i(l.$eval(p.data));l.adjustScrollTop(y.$viewport.scrollTop(),!0)}))}return y.footerController=new ft(l,y),a.addClass("ngGrid").addClass(""+y.gridId),p.enableHighlighting||a.addClass("unselectable"),p.jqueryUITheme&&a.addClass("ui-widget"),a.append(n(r.get("gridTemplate.html"))(l)),f.AssignGridContainers(l,a,y),y.eventProvider=new ut(y,l,f,o),p.selectRow=function(n,t){y.rowCache[n]&&(y.rowCache[n].clone&&y.rowCache[n].clone.setSelection(t?!0:!1),y.rowCache[n].setSelection(t?!0:!1))},p.selectItem=function(n,t){p.selectRow(y.rowMap[n],t)},p.selectAll=function(n){l.toggleSelectAll(n)},p.selectVisible=function(n){l.toggleSelectAll(n,!0)},p.groupBy=function(n){if(n)l.groupBy(l.columns.filter(function(t){return t.field===n})[0]);else{var i=t.extend(!0,[],l.configGroups);angular.forEach(i,l.groupBy)}},p.sortBy=function(n){var t=l.columns.filter(function(t){return t.field===n})[0];t&&t.sort()},p.gridId=y.gridId,p.ngGrid=y,p.$gridScope=l,p.$gridServices={SortService:u,DomUtilityService:f,UtilityService:e},l.$on("$destroy",l.$on("ngGridEventDigestGrid",function(){f.digest(l.$parent)})),l.$on("$destroy",l.$on("ngGridEventDigestGridParent",function(){f.digest(l.$parent)})),l.$evalAsync(function(){l.adjustScrollLeft(0)}),angular.forEach(p.plugins,function(n){"function"==typeof n&&(n=new n);var t=l.$new();n.init(t,y,p.$gridServices);p.plugins[e.getInstanceType(n)]=n;l.$on("$destroy",function(){t.$destroy()})}),"function"==typeof p.init&&p.init(y,l),null})}}}}}]);i.directive("ngHeaderCell",["$compile",function(n){return{scope:!1,compile:function(){return{pre:function(t,i){i.append(n(t.col.headerCellTemplate)(t))}}}}}]);i.directive("ngHeaderRow",["$compile","$templateCache",function(n,t){return{scope:!1,compile:function(){return{pre:function(i,r){0===r.children().length&&r.append(n(t.get(i.gridId+"headerRowTemplate.html"))(i))}}}}}]);i.directive("ngInput",[function(){return{require:"ngModel",link:function(n,t,i,r){function u(i){switch(i.keyCode){case 37:case 38:case 39:case 40:i.stopPropagation();break;case 27:n.$$phase||n.$apply(function(){r.$setViewValue(o);t.blur()});break;case 13:(n.enableCellEditOnFocus&&n.totalFilteredItemsLength()-1>n.row.rowIndex&&n.row.rowIndex>0||n.col.enableCellEdit)&&t.blur()}return!0}function f(n){n.stopPropagation()}function e(n){n.stopPropagation()}var o,s=n.$watch("ngModel",function(){o=r.$modelValue;s()});t.bind("keydown",u);t.bind("click",f);t.bind("mousedown",e);t.on("$destroy",function(){t.off("keydown",u);t.off("click",f);t.off("mousedown",e)});n.$on("$destroy",n.$on("ngGridEventStartCellEdit",function(){t.focus();t.select()}));angular.element(t).bind("blur",function(){n.$emit("ngGridEventEndCellEdit")})}}}]);i.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(n,t,i){return{scope:!1,compile:function(){return{pre:function(r,u){if(r.row.elm=u,r.row.clone&&(r.row.clone.elm=u),r.row.isAggRow){var f=i.get(r.gridId+"aggregateTemplate.html");f=r.row.aggLabelFilter?f.replace(y,"| "+r.row.aggLabelFilter):f.replace(y,"");u.append(n(f)(r))}else u.append(n(i.get(r.gridId+"rowTemplate.html"))(r));r.$on("$destroy",r.$on("ngGridEventDigestRow",function(){t.digest(r)}))}}}}}]);i.directive("ngViewport",[function(){return function(n,t){function i(t){var i=t.target.scrollLeft,r=t.target.scrollTop;return n.$headerContainer&&n.$headerContainer.scrollLeft(i),n.adjustScrollLeft(i),n.adjustScrollTop(r),n.forceSyncScrolling?e():(clearTimeout(f),f=setTimeout(e,150)),o=i,s=r,u=!1,!0}function r(){return u=!0,t.focus&&t.focus(),!0}var u,o,f,s=0,e=function(){n.$root.$$phase||n.$digest()};t.bind("scroll",i);t.bind("mousewheel DOMMouseScroll",r);t.on("$destroy",function(){t.off("scroll",i);t.off("mousewheel DOMMouseScroll",r)});n.enableCellSelection||n.domAccessProvider.selectionHandlers(n,t)}}]);n.ngGrid.i18n.da={ngAggregateLabel:"artikler",ngGroupPanelDescription:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil.",ngSearchPlaceHolder:"Søg...",ngMenuText:"Vælg kolonner:",ngShowingItemsLabel:"Viste rækker:",ngTotalItemsLabel:"Rækker totalt:",ngSelectedItemsLabel:"Valgte rækker:",ngPageSizeLabel:"Side størrelse:",ngPagerFirstTitle:"Første side",ngPagerNextTitle:"Næste side",ngPagerPrevTitle:"Forrige side",ngPagerLastTitle:"Sidste side"};n.ngGrid.i18n.de={ngAggregateLabel:"eintrag",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hierhin um nach dieser Spalte zu gruppieren.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Einträge:",ngTotalItemsLabel:"Einträge gesamt:",ngSelectedItemsLabel:"Ausgewählte Einträge:",ngPageSizeLabel:"Einträge pro Seite:",ngPagerFirstTitle:"Erste Seite",ngPagerNextTitle:"Nächste Seite",ngPagerPrevTitle:"Vorherige Seite",ngPagerLastTitle:"Letzte Seite"};n.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"};n.ngGrid.i18n.es={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"};n.ngGrid.i18n.fa={ngAggregateLabel:"موردها",ngGroupPanelDescription:"یک عنوان ستون اینجا را بردار و به گروهی از آن ستون بیانداز.",ngSearchPlaceHolder:"جستجو...",ngMenuText:"انتخاب ستون‌ها:",ngShowingItemsLabel:"نمایش موردها:",ngTotalItemsLabel:"همهٔ موردها:",ngSelectedItemsLabel:"موردهای انتخاب‌شده:",ngPageSizeLabel:"اندازهٔ صفحه:",ngPagerFirstTitle:"صفحهٔ اول",ngPagerNextTitle:"صفحهٔ بعد",ngPagerPrevTitle:"صفحهٔ قبل",ngPagerLastTitle:"آخرین صفحه"};n.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"};n.ngGrid.i18n.nl={ngAggregateLabel:"items",ngGroupPanelDescription:"Sleep hier een kolomkop om op te groeperen.",ngSearchPlaceHolder:"Zoeken...",ngMenuText:"Kies kolommen:",ngShowingItemsLabel:"Toon items:",ngTotalItemsLabel:"Totaal items:",ngSelectedItemsLabel:"Geselecteerde items:",ngPageSizeLabel:"Pagina grootte:, ",ngPagerFirstTitle:"Eerste pagina",ngPagerNextTitle:"Volgende pagina",ngPagerPrevTitle:"Vorige pagina",ngPagerLastTitle:"Laatste pagina"};n.ngGrid.i18n["pt-br"]={ngAggregateLabel:"itens",ngGroupPanelDescription:"Arraste e solte uma coluna aqui para agrupar por essa coluna",ngSearchPlaceHolder:"Procurar...",ngMenuText:"Selecione as colunas:",ngShowingItemsLabel:"Mostrando os Itens:",ngTotalItemsLabel:"Total de Itens:",ngSelectedItemsLabel:"Items Selecionados:",ngPageSizeLabel:"Tamanho da Página:",ngPagerFirstTitle:"Primeira Página",ngPagerNextTitle:"Próxima Página",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"};n.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"};n.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"};angular.module("ngGrid").run(["$templateCache",function(n){n.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">\r\n    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})<\/span>\r\n    <div class="{{row.aggClass()}}"><\/div>\r\n<\/div>\r\n');n.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="CELL_EDITABLE_CONDITION && editCell()">\r\n\t<div ng-edit-cell-if="!(isFocused && CELL_EDITABLE_CONDITION)">\t\r\n\t\tDISPLAY_CELL_TEMPLATE\r\n\t<\/div>\r\n\t<div ng-edit-cell-if="isFocused && CELL_EDITABLE_CONDITION">\r\n\t\tEDITABLE_CELL_TEMPLATE\r\n\t<\/div>\r\n<\/div>\r\n');n.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}<\/span><\/div>');n.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /><\/div>');n.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected, true)"/>');n.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" ng-model="COL_FIELD" />');n.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">\r\n    <div class="ngTotalSelectContainer" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}<\/span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})<\/span>\r\n        <\/div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}<\/span>\r\n        <\/div>\r\n    <\/div>\r\n    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">\r\n            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}<\/span>\r\n            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >\r\n                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">\r\n            <button type="button" class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"><\/div><\/div><\/button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"><\/div><\/button>\r\n            <input class="ngPagerCurrent" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}<\/span>\r\n            <button type="button" class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"><\/div><\/button>\r\n            <button type="button" class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"><\/div><\/div><\/button>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n');n.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">\r\n    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">\r\n        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}<\/div>\r\n        <ul ng-show="configGroups.length > 0" class="ngGroupList">\r\n            <li class="ngGroupItem" ng-repeat="group in configGroups">\r\n                <span class="ngGroupElement">\r\n                    <span class="ngGroupName">{{group.displayName}}\r\n                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x<\/span>\r\n                    <\/span>\r\n                    <span ng-hide="$last" class="ngGroupArrow"><\/span>\r\n                <\/span>\r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n    <div class="ngHeaderContainer" ng-style="headerStyle()">\r\n        <div ng-header-row class="ngHeaderScroller" ng-style="headerScrollerStyle()"><\/div>\r\n    <\/div>\r\n    <div ng-grid-menu><\/div>\r\n<\/div>\r\n<div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">\r\n    <div class="ngCanvas" ng-style="canvasStyle()">\r\n        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row><\/div>\r\n    <\/div>\r\n<\/div>\r\n<div ng-grid-footer><\/div>\r\n');n.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !col.noSortVisible() }">\r\n    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}<\/div>\r\n    <div class="ngSortButtonDown" ng-click="col.sort($event)" ng-show="col.showSortButtonDown()"><\/div>\r\n    <div class="ngSortButtonUp" ng-click="col.sort($event)" ng-show="col.showSortButtonUp()"><\/div>\r\n    <div class="ngSortPriority">{{col.sortPriority}}<\/div>\r\n    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"><\/div>\r\n<\/div>\r\n<div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"><\/div>\r\n');n.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell">\r\n\t<div class="ngVerticalBar" ng-style="{height: col.headerRowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;<\/div>\r\n\t<div ng-header-cell><\/div>\r\n<\/div>');n.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">\r\n    <div class="ngHeaderButtonArrow"><\/div>\r\n<\/div>\r\n<div ng-show="showMenu" class="ngColMenu">\r\n    <div ng-show="showFilter">\r\n        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>\r\n    <\/div>\r\n    <div ng-show="showColumnMenu">\r\n        <span class="ngMenuText">{{i18n.ngMenuText}}<\/span>\r\n        <ul class="ngColList">\r\n            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">\r\n                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}<\/label>\r\n\t\t\t\t<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"><\/a>\r\n\t\t\t\t<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}<\/span>          \r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n<\/div>');n.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}">\r\n\t<div class="ngVerticalBar" ng-style="{height: rowHeight}" ng-class="{ ngVerticalBarVisible: !$last }">&nbsp;<\/div>\r\n\t<div ng-cell><\/div>\r\n<\/div>')}])})(window,jQuery)